ext {
    pod = 'UrbanAirship-iOS-SDK'
    tempBindingsFolder = new File("$buildDir/bindings")
}

task clean(type: Delete) {
    delete "$buildDir"
}

task build << {
    exec {
        commandLine "${mdTool}", "build", "-c:Release", "AirshipExtensionBindings.iOS.sln"
    }
}

task generateBindings {
    doLast() {
        if (!tempBindingsFolder.exists()) {
            tempBindingsFolder.mkdirs()
        }

        exec {
            workingDir "$tempBindingsFolder"
            commandLine "sharpie", "bind", "-framework", "$rootDir/Carthage/Build/iOS/AirshipAppExtensions.framework"
        }
    }
}

